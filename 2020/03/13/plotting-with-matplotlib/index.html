<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base href="https://marcin.cylke.com.pl/">
  <title>plotting data availability with matplotlib - Tech ramblings by Marcin</title>
  <link rel="stylesheet" type="text/css" href="/css/main.css">
</head>
<body>
  <header>
<div>
    <h1><a href="https://marcin.cylke.com.pl/">Tech ramblings by Marcin</a></h1>
  </div>
  <nav><a href="/about/">about me</a>
  </nav>
</header>
<main>
    <article>
  <div class="title">
    <h1>plotting data availability with matplotlib</h1>
    </div>
  <div class="meta">2020-03-13 00:00</div>
  <div class="artical-body">
  
    <div class="content">
      <p>Though somewhat strange I happen to come to a need of having a plot of
dates that a particular dataset is available on. Doing my exploration in
Jupyter notebook it just felt pretty natural to have it written in
Python and generated as a graph, with matplotlib.</p>
<p>This resulted in a visually appealing description of the dataset. Also,
due to the ease of change, I could modify the plot to show additional
elements. Although adding more and more, it started to look weirdly
confusing, with the need of legend, more insight into it, etc.</p>
<p>But nevertheless, this kind of graph still seems pretty useful to show
2-5 boolean-type information per day.</p>
<p>Here’s the sneak peek into what the code below produces:</p>
<p><img src="/post_images/06-sample.png" alt="alt_text" title="image_tooltip"></p>
<p>Now for a short description of how this is done.</p>
<p>First we need some data points. In my case I was just listing a
directory on S3 share:</p>
<script type="application/javascript" src="https://gist.github.com/zygm0nt/41c66bd1dfec8b6b803ffb1807a50096.js?file=00-load_data.py"></script>

<p>Was running that in a notebook, that’s the reason for strange syntax
with asterisk. The resulting variable’s contents were:</p>
<script type="application/javascript" src="https://gist.github.com/zygm0nt/41c66bd1dfec8b6b803ffb1807a50096.js?file=01-sample-output.md"></script>

<p>I wanted to reformat that data a bit. Especially since every directory
had internally multiple files and depending what kind of files there
were - I wanted to have that fact reflected on the plot:</p>
<script type="application/javascript" src="https://gist.github.com/zygm0nt/41c66bd1dfec8b6b803ffb1807a50096.js?file=02-data-processing.py"></script>

<p>Main motivation here is to get appropriate data format in
<code>available_dates_with_details</code> . This snippet shows how the data is
formatted:</p>
<script type="application/javascript" src="https://gist.github.com/zygm0nt/41c66bd1dfec8b6b803ffb1807a50096.js?file=02-a-output.py"></script>

<p>And now the real meat - plotting the dataset:</p>
<script type="application/javascript" src="https://gist.github.com/zygm0nt/41c66bd1dfec8b6b803ffb1807a50096.js?file=04-plotting.py"></script>

<p>All this functions and data need to be glued together. This snippet does
exactly that:</p>
<script type="application/javascript" src="https://gist.github.com/zygm0nt/41c66bd1dfec8b6b803ffb1807a50096.js?file=05-execution.py"></script>

</div>
  
  </div>
</article>

  </main><footer>
  <p>&copy; 2019 Linlin Yan. <a href="https://creativecommons.org/licenses/by/4.0/deed.zh">CC-BY-4.0</a></p></footer>

</body>
</html>
