
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Marcin bloguje</title>
  <meta name="author" content="Marcin Cylke">

  
  <meta name="description" content="An application developed for one of my recent projects at TouK involved multiple servers. There was a requirement to ensure failover for the system& &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zygm0nt.github.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Marcin bloguje" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-172194-10']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">mob</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Marcin bloguje</a></h1>
  
    <h2>.impressions.memos.tech.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zygm0nt.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2013/06/23/zookeeper-curator/">Zookeeper + Curator = Distributed Sync</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-06-23T22:20:00+02:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p class="c8"><img height="300" src="/assets/2013-06-24-zookeeper-curator.jpg"></p><p class="c1"><span></span></p><p class="c8">
    <span>An application developed for one of my recent projects at TouK involved multiple servers. There was a requirement to ensure failover for the system&rsquo;s components. Since I had already a few separate components I didn&rsquo;t want to add more of that, and since there already was a Zookeeper ensemble running - required by one of the services, I&rsquo;ve decided to go that way with my solution.</span>
</p><h2 class="c8"><a name="h.v629433u6utf"></a><span>What is Zookeeper?</span></h2><p class="c8"><span>Just a crude distributed synchronization framework. However, it implements Paxos-style algorithms (</span><span
        class="c5"><a class="c0" href="http://en.wikipedia.org/wiki/Paxos_(computer_science)">http://en.wikipedia.org/wiki/Paxos_(computer_science)</a></span><span>) to ensure no split-brain scenarios would occur. This is quite an important feature, since I don&rsquo;t have to care about that kind of problems while using this app. You just need to create an ensemble of a couple of its instances - to ensure high availability. It is basically a virtual filesystem, with files, directories and stuff. One could ask why another filesystem? Well this one is a rather special one, especially for distributed systems. The reason why creating all the locking algorithms on top of Zookeeper is easy is its Ephemeral Nodes - which are just files that exist as long as connection for them exists. After it disconnects - such file disappears. </span>
</p><p class="c8"><span>With such paradigms in place it&rsquo;s fairly easy to create some high level algorithms for synchronization.</span>
</p><p class="c1"><span></span></p><p class="c8"><span>Having that in place, it</span><span>&nbsp;can</span><span>&nbsp;safely integrate multiple services ensuring loose coupling in a distributed way.</span>
</p><p class="c1"><span></span></p><h2 class="c8"><a name="h.ppqvt63vg53w"></a><span>Zookeeper from developer&rsquo;s POV</span>
</h2><p class="c8"><span>With all the base services for Zookeeper started, it seems there is nothing else, than just connect to it and start implementing necessary algorithms. Unfortunately, the API is quite basic and offers files and directories abstractions with the addition of different node type (file types) - ephemeral and sequence. It is also possible to watch a node for changes.</span>
</p><h2 class="c8"><a name="h.lgfultrxupbf"></a><span>Using bare Zookeeper is hard!</span></h2><p class="c8"><span>Creating connections is tedious - and there is lots of things to take care of. Handling an established connection is hard - when establishing connection to ensemble, it&rsquo;s necessary to negotiate a session also. During the whole process a number of exceptions can occur - these are &ldquo;recoverable&rdquo;
    exceptions, that can be gracefully handled and not break the connection.</span></p><p class="c1"><span></span></p><p
        class="c8"><span>So, Zookeeper API is hard.</span></p><p class="c1"><span></span></p><p class="c8"><span>Even if one is proficient with that API, then there come recipes. The reason for using Zookeeper is to be able to implement some more sophisticated algorithms on top of it. Unfortunately those aren&rsquo;t trivial and it is again quite hard to implement them without bugs.</span>
</p><p class="c1"><span></span></p><p class="c8"><span>And since distributed systems are hard, why would anyone want another difficult to handle tool? </span>
</p><p class="c1"><span></span></p><h2 class="c8"><a name="h.8n72xils1l1f"></a><span>Enter Curator</span></h2><p
        class="c8"><span>Happily, guys from Netflix implemented a nice abstraction for dealing with Zookeeper internals. They called it Curator and use it extensively in the company&rsquo;s environment. Curator offers consistent API for Zookeeper&rsquo;s functionality. It even implements a couple of recipes for distributed systems.</span>
</p><p class="c1"><span></span></p><h2 class="c8"><a name="h.k63iku7qitza"></a><span>File read/write</span></h2><p
        class="c8"><span>The basic use of Zookeeper is as a distributed configuration repository. For this scenario I only need read/write capabilities, to be able to write and read files from the Zookeeper filesystem. This code snippet writes a sample json to a file on ZK filesystem.</span>
</p><p class="c1"><span></span></p><a href="#" name="fb1072a0c295459e23a47b12e8c09952a5ab3768"></a><a href="#"
                                                                                                      name="0"></a>
<pre>
<code>
EnsurePath ensurePath = new EnsurePath(markerPath);
ensurePath.ensure(client.getZookeeperClient());
String json = “...”;
if (client.checkExists().forPath(statusFile(core)) != null)
     client.setData().forPath(statusFile(core), json.getBytes());
else
     client.create().forPath(statusFile(core), json.getBytes());

</code>
</pre>

<p class="c1"><span></span></p><h2 class="c8"><a name="h.ikl4cn73c5uw"></a><span>Distributed locking</span></h2>
<p class="c8"><span>Having multiple systems there may be a need of using an exclusive lock for some resource, or perhaps some big system requires it&rsquo;s components to synchronize based on locks. This &ldquo;recipe&rdquo;
    is an ideal match for those situations.</span></p><p class="c1"><span></span></p><a href="#"
                                                                                        name="b0329bbbf14b79ffaba1139881914aea887ef6a3"></a>
<a href="#" name="1"></a>
<pre>
<code>

lock = new InterProcessSemaphoreMutex(client, lockPath);
lock.acquire(5, TimeUnit.MINUTES);
… do sth …
lock.release();

</code>
</pre>

<p class="c8"><span>&nbsp;(from </span><span class="c5"><a class="c0"
                                                                   href="https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/curator/LockingRemotely.java">https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/curator/LockingRemotely.java</a></span><span>)</span>
</p><p class="c1"><span></span></p><h2 class="c8"><a name="h.ck92kse5nam2"></a><span>Sevice Advertisement</span></h2><p
        class="c8"><span>This is quite an interesting use case. With many small services on different servers it is not wise to exchange ip addresses and ports between them. When some of those services may go down, while other will try to replace them - the task gets even harder. </span>
</p><p class="c8"><span>That&rsquo;s why, with Zookeeper in place, it can be utilised as a registry of existing services.</span>
</p><p class="c1"><span></span></p><p class="c8"><span>If a service starts, it registers into the ServiceRegistry, offering basic information, like it&rsquo;s purpose, role, address, and port. </span>
</p><p class="c8"><span>Services that want to use a specific kind of service request an access to some instance. This way of configuring easily decouples services from their configuration.</span>
</p><p class="c1"><span></span></p><p class="c8"><span>Basically this scenario needs ? steps:</span></p><p class="c8">
    <span>1. Service starts and registers its presence (</span><span class="c5"><a class="c0"
                                                                                   href="https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/curator/WorkerAdvertiser.java#L44">https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/curator/WorkerAdvertiser.java#L44</a></span><span>)</span><span>:</span>
</p><p class="c1"><span></span></p><a href="#" name="1c67229d451cd2d82dddaf1fb12af1aed4a8ecb0"></a>

<pre>
<code>

ServiceDiscovery<WorkerMetadata> discovery = getDiscovery();
            discovery.start();
            ServiceInstance si = getInstance();
            log.info(si);
            discovery.registerService(si);


</code>
</pre>
<p class="c1"><span></span></p><p class="c8"><span>2. Another service - on another host or in another JVM on the same machine tries to discover who is implementing the service (</span><span
        class="c5"><a class="c0"
                      href="https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/curator/WorkerFinder.java#L50">https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/curator/WorkerFinder.java#L50</a></span><span>)</span><span>:</span>
</p><p class="c1"><span></span></p><a href="#" name="0e430a074ab36c8eea3f84fae3d0cffb400dd281"></a><a href="#"
                                                                                                      name="3"></a>
<pre>
<code>
instances = discovery.queryForInstances(serviceName);
</code>
</pre>

<p class="c8"><span>The whole concept here is ridiculously simple - the service advertising its presence just stores a file with its whereabouts. The service that is looking for service providers just look into specific directory and read stored definitions.</span>
</p><p class="c1"><span></span></p><p class="c8"><span>In my example, the structure advertised by services looks like this (+ some getters and constructor - the rest is here: </span><span
        class="c5"><a class="c0"
                      href="https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/model/WorkerMetadata.java">https://github.com/zygm0nt/curator-playground/blob/master/src/main/java/pl/touk/model/WorkerMetadata.java</a></span><span>):</span>
</p><p class="c1"><span></span></p><a href="#" name="c0131478bfab43e60b5e077f3170a172a909d199"></a>

<pre>
<code>

public final class WorkerMetadata {
    private final UUID workerId;
    private final String listenAddress;
    private final int listenPort;
}

</code>
</pre>
<p class="c1"><span></span></p><h2 class="c8"><a name="h.qvt6wa2m15sm"></a><span>Source code</span></h2><p
        class="c8"><span>The above recipes are available in Curator library (</span><span class="c5"><a class="c0"
                                                                                                        href="http://curator.incubator.apache.org/">http://curator.incubator.apache.org/</a></span><span>). Recipes&rsquo;
    usage examples are in my github repo at </span><span class="c5"><a class="c0"
                                                                       href="https://github.com/zygm0nt/curator-playground">https://github.com/zygm0nt/curator-playground</a></span>
</p><p class="c1"><span></span></p><h2 class="c8"><a name="h.o1zkosbrwpah"></a><span>Conclusion</span></h2><p
        class="c8"><span>If you&rsquo;re in need of a reliable platform for exchanging data and managing synchronization, and you need to do it in a distributed fashion - just choose Zookeeper. Then add Curator for the ease of using it. Enjoy!</span>
</p><p class="c1"><span></span></p><p class="c1"><span></span></p>
<hr><p class="c1"><span></span></p>
<ol class="c13" start="1">
    <li class="c7"><span>image comes from: </span><span class="c5"><a class="c0"
                                                                      href="http://www.flickr.com/photos/jfgallery/2993361148">http://www.flickr.com/photos/jfgallery/2993361148</a></span>
    </li>
    <li class="c7"><span>all source code fragments taken from this repo: </span><span class="c5"><a class="c0"
                                                                                                    href="https://github.com/zygm0nt/curator-playground">https://github.com/zygm0nt/curator-playground</a></span>
    </li>
</ol>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2013/03/21/zookeeper-tips/">Operational Problems With Zookeeper</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-03-21T23:56:00+01:00" pubdate data-updated="true">Mar 21<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post is a summary of what has been presented by Kathleen Ting on
StrangeLoop conference. You can watch the original here:
<a href="http://www.infoq.com/presentations/Misconfiguration-ZooKeeper">http://www.infoq.com/presentations/Misconfiguration-ZooKeeper</a></p>

<p>I&#8217;ve decided to put this selection here for quick reference.</p>

<h2>Connection mismanagement</h2>

<ul>
<li><p>too many connections</p>

<pre><code>  WARN [NIOServerCxn.Factory: 0.0.0.0/0.0.0.0:2181:NIOServerCnxn$Factory@247] - Too many connections from /xx.x.xx.xxx - max is 60
</code></pre></li>
<li><p>running out of ZK connections?</p>

<ul>
<li>set <code>maxClientCnxns=200</code> in <code>zoo.cfg</code></li>
</ul>
</li>
<li><p>HBase client leaking connections?</p>

<ul>
<li>fixed in HBASE-3777, HBASE-4773, HBASE-5466</li>
<li>manually close connections</li>
</ul>
</li>
<li><p>connection closes prematurely</p>

<pre><code>  ERROR: org.apache.hadoop.hbase.ZooKeeperConnectionException: HBase is able to connect to ZooKeeper but the connection closes immediately.
</code></pre></li>
<li><p>in <code>hbase-site.xml</code> set <code>hbase.zookeeper.recoverable.waittime=30000ms</code></p></li>
<li><p>pig hangs connecting to HBase</p>

<pre><code>  WARN org.apache.zookeeper.ClientCnxn: Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect java.net.ConnectionException: Connection refused!
</code></pre>

<p>  <strong>CAUSE:</strong> location of ZK quorum is not known to Pig</p>

<ul>
<li>use Pig 10, which includes PIG-2115</li>
<li>if there is an overlap between TaskTrackers and ZK quorum nodes

<ul>
<li>set <code>hbase.zookeeper.quorum</code> to final in <code>hbase-site.xml</code></li>
<li>otherwise add <code>hbaze.zoopeeker.quorum=hadoophbasemaster.lan:2181</code> in <code>pig.properties</code></li>
</ul>
</li>
</ul>
</li>
</ul>


<h2>Time mismanagement</h2>

<ul>
<li><p>client session timed out</p>

<pre><code>  INFO org.apache.zookeeper.server.ZooKeeperServer: Expiring session &lt;id&gt;, timeout of 40000ms exceeded
</code></pre>

<ul>
<li>ZK and HBase need the same session timeout values

<ul>
<li><code>zoo.cfg</code>: <code>maxSession=Timeout=180000</code></li>
<li><code>hbase-site.xml</code>: <code>zookeeper.session.timeout=180000</code></li>
</ul>
</li>
<li>don&#8217;t co-locate ZK with IO-intense DataNode or RegionServer</li>
<li>specify right amount of heap and tune GC flags

<ul>
<li>turn on parallel/CMS/incremental GC</li>
</ul>
</li>
</ul>
</li>
<li><p>clients lose connections</p>

<pre><code>  WARN org.apache.zookeeper.ClientCnxn - Session &lt;id&gt; for server &lt;name&gt;, unexpected error, closing socket connection and attempting reconnect java.io.IOException: Broken pipe
</code></pre>

<ul>
<li>don&#8217;t use SSD drive for ZK transaction log</li>
</ul>
</li>
</ul>


<h2>Disk management</h2>

<ul>
<li><p>unable to load database - unable to run quorum server</p>

<pre><code>  FATAL Unable to load database on disk !  java.io.IOException: Failed to process transaction type: 2 error: KeeperErrorCode = NoNode for &lt;file&gt; at org.apache.zookeeper.server.persistence.FileTxnSnapLog.restore(FileTxnSnapLog.java:152)!
</code></pre>

<ul>
<li>archive and wipe <code>/var/zookeeper/version-2</code> if other two ZK servers
are running</li>
</ul>
</li>
<li><p>unable to load database - unreasonable length exception</p>

<pre><code>  FATAL Unable to load database on disk java.io.IOException: Unreasonable length = 1048583 at org.apache.jute.BinaryInputArchive.readBuffer(BinaryInputArchive.java:100)
</code></pre>

<ul>
<li>server allows a client to set data larger than the server can read from disk</li>
<li>if a znode is not readable, increase <code>jute.maxbuffer</code>

<ul>
<li>look for <code>"Packet len &lt;xx&gt; is out of range"</code> in the client log</li>
<li>increase it by 20%</li>
<li>set in <code>JVMFLAGS="-Djute.maxbuffer=yy" bin/zkCli.sh</code></li>
<li>fixed in ZOOKEEPER-1513</li>
</ul>
</li>
</ul>
</li>
<li><p>failure to follow leader</p>

<pre><code>  WARN org.apache.zookeeper.server.quorum.Learner: Exception when following the leader java.net.SocketTimeoutException: Read timed out 
</code></pre>

  <strong>CAUSE:</strong>

<ul>
<li>disk IO contention, network issues</li>
<li>ZK snapshot is too large (lots of ZK nodes)</li>
</ul>


<p>  <strong>SOLVE:</strong></p>

<ul>
<li>reduce IO contention by putting dataDir on dedicated spindle</li>
<li>increase initLimit on all ZK servers and restart, see
ZOOKEEPER-1521</li>
<li>monitor network</li>
</ul>
</li>
</ul>


<h2>Best Practices</h2>

<p><strong>DOs</strong></p>

<ul>
<li>separate spindles for dataDir &amp; dataLogDir</li>
<li>allocate 3 or 5 ZK servers</li>
<li>tune garbage collection</li>
<li>run zkCleanup.sh script via cron</li>
</ul>


<p><strong>DON&#8217;Ts</strong></p>

<ul>
<li>dont&#8217; co-locate ZK with I/O intense DataNode or RegionServer</li>
<li>don&#8217;t use SSD drive for ZK transaction log</li>
</ul>


<p>You may use Zookeeper as an observer - a non-voting member:</p>

<ul>
<li><p>in zoo.cfg</p>

<pre><code>  peerType=observer
</code></pre></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/11/30/after-whug/">After WHUG Meeting</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-30T22:20:00+01:00" pubdate data-updated="true">Nov 30<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here are the slides from the talk a gave yesterday. If you have any
questions, please ask.</p>

<script async class="speakerdeck-embed"
data-id="cc18d5601d60013059a31231381554d7" data-ratio="1.33333333333333"
src="//speakerdeck.com/assets/embed.js"></script>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/11/26/whug-8-beyond-hadoop/">WHUG 8. Beyond Hadoop - Checking Other Options</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-26T09:11:00+01:00" pubdate data-updated="true">Nov 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>W najbliższy czwartek - czyli 29.11.2012 - poprowadzę prezentację w
ramach Warsaw Hadoop User Group. Swoją obecność można odklinąć tu
http://www.meetup.com/warsaw-hug/</p>

<p>A o czym będę mówił? Przeklejka ze strony WHUG:</p>

<blockquote><p>Marcin skupi się na współpracy ekosystemu Hadoopa z innymi narzędziami.
Pokaże jak prosto i wygodnie przetwarzać grafy i jak stosować podejście
Big Data, w czasie rzeczywistym. Poruszy również temat łatwiejszego
tworzenia algorytmów Map-Reduce</p>

<p>Będzie to nieco mniej technicza (ale wciąż praktyczna) wycieczka po
obrzeżach tematyki, która jest zwykle poruszana w połączeniu z
Hadoop-em.</p>

<p>Prezentacja będzie dotyczyć narzędzi takich jak Cascading, Storm, Titan.</p></blockquote>

<p>Zapraszam!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/10/30/hadoop-ha/">Hadoop HA Setup</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-10-30T12:40:00+01:00" pubdate data-updated="true">Oct 30<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>With the advent of Hadoop&#8217;s 2.x version, there finally is a working
High-Availability solution. Even two of those. Now it really is easy to
configure and use those solutions. It no longer require external
components, like
<a href="http://blog.cloudera.com/blog/2009/07/hadoop-ha-configuration/">DRBD</a>.
It all is just neatly packed into Cloudera Hadoop distribution - the
precursor of this solution.</p>

<p>Read on to find out how to use it.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/30/hadoop-ha/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/10/18/raspberry-pi/">Raspberry-pi</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-10-18T23:16:00+02:00" pubdate data-updated="true">Oct 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>About a month ago I finally received my very own Raspberry Pi board!
Don&#8217;t know what that is? Here, read some at their
<a href="http://www.raspberrypi.org/">website</a>.</p>

<p>For the sake of completness let me just describe that as prototyping
platform with ARM processor. It is really similar in concept to what
Arduino is, except it has not that many extensions available (none? or
very little, I&#8217;ve only found those on <a href="http://adafruit.com/">Adafruit</a>
pages).</p>

<p>So, here is the obligatory picture.</p>

<p><img src="http://blog.innovative-labs.com/blog/raspberry-pi.jpg" alt="My very own R-Pi" /></p>

<p>It can run a Linux distribution, so anyone familiar with that can have a
go with this low-powered computer.</p>

<p>The board itself is on the market for quite some time now. That&#8217;s why
there are lots of interesting resources and projects that you can do
with that stuff.</p>

<p>Here are just a bunch of them:</p>

<ul>
<li><a href="http://www.elcojacobs.com/uberfridge/">UberFridge</a> - for all the
brewers in the world :)</li>
<li>SOHO server</li>
<li>a supercomputer - <a href="http://www.southampton.ac.uk/mediacentre/features/raspberry_pi_supercomputer.shtml">cluster out of R-Pi</a></li>
<li>Arcade Cabinet - <a href="http://www.raspberrypi.org/phpBB3/viewtopic.php?f=9&amp;t=1814">custom build gaming rig</a></li>
<li>Hand-held emulation machine - <a href="http://www.raspberrypi.org/phpBB3/viewtopic.php?f=9&amp;t=4570">R-Pi on the go</a></li>
<li>sending R-Pi to <a href="http://www.raspberrypi.org/phpBB3/viewtopic.php?f=9&amp;t=2059">the edge of Space</a></li>
<li>coffe machine - <a href="http://moccapi.blogspot.co.uk/">MoccaPi</a></li>
<li>other projects on elinux - <a href="http://elinux.org/RPi_Projects">Elinux projects</a></li>
<li>other projects on Hack-a-Day - <a href="http://hackaday.com/tag/raspberry-pi/">Hack-a-Day Raspberry Pi
tags</a></li>
</ul>


<p>Do you also own R-Pi? Share what you plan to do with it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/06/18/hadoop-for-enterprises/">Hadoop for Enterprises</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-06-18T11:08:09+02:00" pubdate data-updated="true">Jun 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Hadoop&#8217;s usage as a big data processing framework gains a lot of attention lately. Now, not only big players see, that they can embrace the data their sites or products are generating and develop their businesses on it. For that to happen two things are needed: the data itself and means of processing really big amounts of it.  </p>

<p><span class="image-wrap" style=""><img src="http://blog.innovative-labs.com/blog/3488314950_453466f762_b.jpg" style="border: 0px solid black; width: 400px;" /></span></p>

<p>Gathering data is relatively easy. These are not necessarily structured data, you don&#8217;t need to plan their usage at first. Just start collecting them and than you may experiment with their potential usage. If they&#8217;ll come out as useless rubbish - deleting them won&#8217;t be hard <img class="emoticon" src="/confluence/images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/> But imagine the values it may contribute to your business:</p>

<ul>
	<li>faster services - working on optimized data</li>
	<li>more clients - because of more relevant search results</li>
	<li>happy clients - your service can &#8220;read their minds&#8221; <img class="emoticon" src="/confluence/images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></li>
	<li>etc.</li>
</ul>


<p>There are many companies that utilize Hadoop ecosystem for their own needs. You can read about some of them here: <a href="http://wiki.apache.org/hadoop/PoweredBy" class="external-link" rel="nofollow">http://wiki.apache.org/hadoop/PoweredBy</a> But since that page lacks insight into specific applications of Hadoop I&#8217;ve tried to delve into<br/>
details of how Hadoop helped tame some companies&#8217; big data sets.</p>

<EXCERPT>

<h2><a name="test-Facebook"></a>Facebook</h2>

<p>Being a social network provider, a widely used one, they require no introduction. However if you&#8217;ve lived under a rock for last couple years just visit their website <a href="http://facebook.com" class="external-link" rel="nofollow">http://facebook.com</a></p>

<p>Their main usage is data warehousing. Since they require to be able to access the data fast and reliably they had a need for real-time querying of their huge, and always growing data set. Their switch from MySQL databases was required due to the increasing workloads they experienced with standard databases. What they got &#8220;out of the box&#8221; with Hadoop was all the benefits of distributed file system (HDFS features). They expanded the ideas behind that even further and implemented truly Highly Available file system without Single Point of Failure.</p>

<p>Facebook has 3 interesting usage scenarios in which Hadoop plays a major role:</p>

<ul>
	<li>Titan - is Facebook&#8217;s messaging system. It processes messages exchanged between users. Ensures that it happens fast and without glitches. Here Hadoop is used mainly as a huge, unlimited storage.</li>
	<li>Puma - Facebook Insights - a tool providing page statistics for  advanced Facebook users. Based on streams of data (clicks, likes, shares, comments and impressions) it graphs those data and makes it available near instantly.</li>
	<li>ODS - Operational Data Store - which stores Facebook&#8217;s internal metrics - collections of OS and cluster health metrics. And it facilitates multiple accounting solutions.</li>
</ul>


<h2><a name="test-Twitter"></a>Twitter</h2>

<p>This popular micro-blogging platform, where you can register your account and follow friends and celebrities for their micro-messages does some pretty interesting things with their Hadoop cluster.</p>

<p>One of their motivations is to speed up their web-page&#8217;s functionality. That is why the compute users&#8217; friendships in Twitter&#8217;s social graph with Hadoop. Using connections between users they calculate their relationship to each other and estimate groups of users.</p>

<p>Since this service&#8217;s users generate lots of content, the company conducts researches based on natural language processing. They probe what could be told about a user from his tweets. They use tweets&#8217; contents for advertisement purpose, trends analysis and many more.</p>

<p>From tweets and user&#8217;s behaviours they characterise usage scenarios. Also, they gather usage statistics, like number of searches daily, number of tweets. Based on this seemingly irrelevant data they run comparisons of different types of users. Twitter analyzes data to determine whether mobile users, users who use third party clients or power users use Twitter differently from average users. Of course theses seem like really specific applications but nevertheless they are very original and base on the data that Twitter has been gathering for some time now. </p>

<h2><a name="test-EBay"></a>EBay</h2>

<p>Being the biggest auctioning site on the Internet, EBay uses Hadoop processing for increasing search relevance based on click-stream data, user data. This seems pretty obvious, considering their area of operation.</p>

<p>However the also have one other interesting thing - they try hard to automatically fill auctioned objects&#8217; metadata, based on the descriptions and other data provided by users. They employ data mining approach for this tasks and judging from their constant growth it seems to work <img class="emoticon" src="/confluence/images/icons/emoticons/smile.gif" height="20" width="20" align="absmiddle" alt="" border="0"/></p>

<h2><a name="test-LinkedIn"></a>LinkedIn</h2>

<p>Social network for professionals, thou a lot smaller than Facebook. Based on click-streams they discover relations between users. All the data concerning latest visits on your profile or people you may know from other places - this comes from Hadoop based analysis of those clicks people make all the time on their sites.</p>

<p>Also a very neat feature, called InMaps (<a href="http://inmaps.linkedinlabs.com/" class="external-link" rel="nofollow">http://inmaps.linkedinlabs.com/</a>) analyse declared schools and companies and generates data for graph with clustered friends of yours.</p>

<h2><a name="test-Last.fm"></a>Last.fm</h2>

<p>This on-line radio site, praised by many for its invaluable recommendations&#8217; system seems like a rather small and simple service. But behind the facade of simple web page there are lots of data being processed, so that their services could match a certain level of perfection.</p>

<p>Such large volume of their data comes from scrobbles. Each users of their service listening to a song generates a note about this fact - called scrobble. Based on that and user profiles they calculate global band popularity charts, maps of bands&#8217; popularity and many more usage statistics and timeline charts.</p>

<p><span class="image-wrap" style=""><img src="http://blog.innovative-labs.com/blog/7346959440_71648c9fe7_b.jpg" style="border: 0px solid black; width: 400px;" /></span></p>

<h2><a name="test-Conclusion"></a>Conclusion</h2>

<p>They just try to detect and trace new patterns in seemingly chaotic data sets. Perhaps you could also do the same? Analyze your data and expand your business value?</p></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="http://www.wedding-cake-decorations.net">wedding cake decorations</a></div>
<div class='content'>
<p>We stumbled over here from a different web address and thought I might check things out.<br />
I like what I see so i am just following you.<br />
Look forward to checking out your web page yet again.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.car-floor-mats.net">rubber floor mats</a></div>
<div class='content'>
<p>I like what you guys are up too. This type of clever work and reporting!<br />
<br />
Keep up the awesome works guys I&#8217;ve added you guys to my own blogroll.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.bispioner.ru/phpBB3/memberlist.php?mode=viewprofile&amp;u=119586">Svayambhut Ghosh</a></div>
<div class='content'>
<p>Greetings from Florida! I&#8217;m bored at work so I decided to browse your site on my iphone during lunch break. I enjoy the info you present here and can&#8217;t wait to take a look <br />
when I get home. I&#8217;m surprised at how quick your blog loaded on my cell phone .. I&#8217;m not even using WIFI, just 3G .<br />
. Anyways, very good site!</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.salethenorthfacejackets.com">north face jackets</a></div>
<div class='content'>
<p>Comfortableness &lt;a href=&quot;http://www.salethenorthfacejackets.com&quot;&gt;north face jackets&lt;/a&gt;<br />
is crucial when they get it that will &lt;a href=&quot;http://www.salethenorthfacejackets.com&quot;&gt;north face outlet&lt;/a&gt; get the best school bags pertaining to going camping &lt;a href=&quot;http://www.salethenorthfacejackets.com&quot;&gt;north face sale&lt;/a&gt;. Your easiest guarantee in the case of even larger delivers has become One with an inner metal framework, one that can wind &lt;a href=&quot;http://www.salethenorthfacejackets.com&quot;&gt;cheap north face&lt;/a&gt; up being aligned to help you appropriately fit your &lt;a href=&quot;http://www.salethenorthfacejackets.com/the-north-face-women-1&quot;&gt;north face women&lt;/a&gt; body. They should be now have http://www.salethenorthfacejackets.com secure which were wholly flexible, because essentially in the form of midsection belt to get more aid.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.plants-for-sale.com">plants sale</a></div>
<div class='content'>
<p>I never imagined how much stuff there was out there <br />
on this! Thanks for making it easy to get the picture</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.facebook.com/profile.php?id=100003406472249">gWgVcetqzVZukd</a></div>
<div class='content'>
<p>What Programming Languages Do Jobs Require? | Regular Geek  regulargeek.com/2009/07/21/what-programming-languages-do-jobs-require   view page   cahecd  As a software engineer, you need to keep your skills sharp and current. This is a general requirement of the job. In addition to this, in the current economy you do not want to be without a job. Obviously, this means learning more about what your current company uses for all of its development. What if you do not have a job or you are looking to leave? What technologies or programming languages should you be looking into?   From the page</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://businesses.wickedlocal.com/MA-Westford/Computer-Service-and-Repair/15">computer pc repair</a></div>
<div class='content'>
<p>Howdy are using Wordpress for your site platform? I&#8217;m new to the blog world but I&#8217;m trying to <br />
get started and create my own. Do you need any coding expertise to make your own <br />
blog? Any help would be greatly appreciated!</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/11/02/soapui-ext-libs-and-its-weirdness/">SoapUI Ext Libs and Its Weirdness</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-11-02T16:32:15+01:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Suppose you want to add some additional jars to your SoapUI installation. It all should work ok if you put them in <b>bin/ext</b> directory. It is scanned at startup, and jars found there are automatically added to classpath.
</p>

<p>
However if you want to add some JDBC drivers, and happen to be using SoapUI version higher than 3.5.1 it is a bit more tricky.
</p>
<p>You may face this NoClassDefFoundError:<br/>

<pre>
An error occured [oracle/jdbc/Driver], see error log for details
java.lang.NoClassDefFoundError: oracle/jdbc/Driver
</pre>
</p> 

<p>
If so, try registering your drivers with <b>registerJdbcDriver</b> function, like I did in this snippet of code:
</p>
<div><script src='https://gist.github.com/1333768.js?file=jdbc-soapui.groovy'></script>
<noscript><pre><code>if (context.sql == null) {
	def driver = 'oracle.jdbc.OracleDriver'
	com.eviware.soapui.support.GroovyUtils.registerJdbcDriver( driver )
	def sql = Sql.newInstance('jdbc:oracle:thin:' + dbUri, driver)
	context.setProperty('sql', sql)
}</code></pre></noscript></div>



<p>What a crappy thing!</p></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="http://podzastaw.org">Kelli</a></div>
<div class='content'>
<p>You can definitely see your expertise in the work you write.<br />
The world hopes for more passionate writers such as you who are not afraid to <br />
say how they believe. Always go after your heart.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.052b.com">Buford</a></div>
<div class='content'>
<p>It&#8217;s going to be end of mine day, however before finish I am reading this fantastic paragraph to increase my experience.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.hotelfocus.com.pl">Chandra</a></div>
<div class='content'>
<p>My family every time say that I am wasting my time <br />
here at net, except I know I am getting knowledge every day by reading such pleasant articles.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.wayn.com/waynblog.html?wci=viewentry&amp;entry_key=265563">Florene</a></div>
<div class='content'>
<p>Thanks , I&#8217;ve just been looking for info approximately this topic for a long time and yours is the greatest I have found out till now. But, what concerning the bottom line? Are you positive in regards to the source?</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://www.hotelbookingwebsite.net">Myron</a></div>
<div class='content'>
<p>Nice post. I was checking continuously this blog and I am impressed!<br />
Extremely helpful information specially the last part <br />
:) I care for such information much. I was looking for this <br />
particular info for a long time. Thank you and best of luck.</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/09/21/what-is-nosql-good-for/">What Is NoSQL Good For?</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-09-21T23:12:34+02:00" pubdate data-updated="true">Sep 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<b>&#8230; or how I ended up writing a CouchDB proof of concept app?</b>

<p>Once upon a time I set out on a journey to discover the NoSQL land.
I&#8217;ve decided that doing simple queries wouldn&#8217;t be interesting enough.
That&#8217;s why I&#8217;ve chose to create an app that would be based on some NoSQL
database.</p>

<p>
The main idea was to create an app, that would dynamically update itself
with geographic data flowing in. Since there are myriads of geo-data
that are available on the internet, you can pick your favorite one and
load them into your SQL database of choice.
</p>

<EXCERPT>
<p>
In my case the primary source of data was a proprietary database, or more specifically - one table in it continuously updated with new data. To make that
data visible on my map I needed to:
</p>

<ul>
<li> buffer the huge amount of those records - so as not to overhoul
other services with large traffic, and not to flood the frontend</li>
<li> convert then to my representation</li>
<li> display them - have presentation layer in a browser - since
browser-based frontend was the easiest and fastest to develop</li>
</ul>

<p>
The idea of the front-end HTML page was to show new points on the map.
From the moment of opening the page records that appear in database
table should be shown interactively on the screen.
</p>

<h2>Toys used</h2>

<p>
For the first step I chose to use RabbitMQ broker. A queue on the broker would receive messages - one message per database table&#8217;s row.
Then I&#8217;d use some simple groovy middle ware to convert the data to appropriate format and put it onto another db - this time db specific
to my app. 
</p>

<p>
You may ask why incorporate another database. It would be
good for separating environments - assuming the original data contains
some vulnerable content that should be anatomised, or we just don&#8217;t feel
comfortable exposing the whole database of some XYZ-system just to have
access to its one table.
</p>

<p>
Since for my presentation layer I chose HTML+JS without any application server-based back-end I&#8217;ve decided on CouchDB . This seemed like
a perfect match for this scenario. Why? - ease of use, REST API, with JSON responses - just great for interacting with my simple front-end.
</p>

<p>
The flow of things was as shown on the image below:
</p>

<IMG src="http://blog.innovative-labs.com/blog/gmapper.png"
alt="diagram"/>

<h2>Avro - for the beginning</h2>
<p>
As you can see, I&#8217;ve chosen JSON as my data-format. I&#8217;ve been considering
<a href="http://avro.apache.org">Apache Avro</a> in the first place but
using it was a real pain in the ass. Avro itself is used in <a
href="http://hadoop.apache.org">Apache Hadoop</a> as a serialization
layer, so it would seem OK, but it has virtually <em>no
documentation</em>. But once you tear through the unintuitive interface
and manage to handle all those unthinkable exceptions you get a few pros
for this library. It&#8217;s great in that it does not require code generation - I
like it being made on the fly. It also offers sending data in binary
format, which was not necessary, but never the less is a nice feature.
</p>

<p>
What I certainly didn&#8217;t like about it was its orientation on the files
rather than chunks of data - so it was not so obvious how should I send
data through the wire. 
</p>

<p>
Than I found out it can produce JSON output, which would work for me,
except the output could not have been parsed by other JSON libraries :)
(<a
href="http://stackoverflow.com/questions/5375243/jcouchdb-svenson-unable-to-parse-json-string">I&#8217;ve
asked on stackoverflow about that, but with no luck</a>). 
</p>

<p>If my whining haven&#8217;t put you back and still would like to see how to use Avro, try this unit
test in project&#8217;s GitHub repo: <a
href="https://github.com/zygm0nt/gmapped/blob/master/feeder/src/test/groovy/pl/ftang/example/feeder/avro/AvroSimpleTest.groovy">AvroSimpleTest.groovy</a>
</p>


<h2>Svenson</h2>

<p>
I&#8217;ve dropped Avro in favour of a simple JSON lib called (<a
href="http://code.google.com/p/svenson/">Svenson</a> and that was
painless. The only thing I was forced to do was create my model class in
Java - the rest of the project is written in Groovy. I&#8217;ve no idea why
was that necessary, and didn&#8217;t want to look into it.
</p>

<h2>RabbitMQ</h2>

<p>
Further on the way is <a href="http://www.rabbitmq.com/">RabbitMQ</a>, to which records are filled by a feeding
middle-ware written in Groovy. Since I use <a
href="http://activemq.apache.org">ActiveMQ</a> on a day-to-day basis,
I&#8217;ve decided to try something new. This broker is a really nice piece of
software. Being written in Erlang makes it really fast. What&#8217;s more it
has some extensive capabilities and is easy to approach for anyone
similar with messaging (JMS and friends). For such a lightweight product
it is really powerful - implements AMQP! 
</p>

<h2>CouchDB</h2>

<p>
From the broker&#8217;s queue messages are again fetched by a middle-ware just
to be put into <a href="http://couchdb.apache.org/">CouchDB</a> view.
This database is also written in Erlang. It&#8217;s very reliable, however the
way it handles refreshing view isn&#8217;t the most pleasant one -
performance-wise. 
</p>

<p>
Word of advice - if you&#8217;re on Debian derivative, be cautious with
apt-repository version. It&#8217;s rather _ancient_. Also remember to add
<b>allow_jsonp = true</b> to you config file
<i>/opt/couchbase/etc/couchdb/local.ini</i>. It&#8217;s not enabled by
default, and not having this set would result with empty responses from
the CouchDB server.</p>

<p>The problem here is, that the browser doesn&#8217;t allow quering a web server with hostname other than the one the script originates.
 More on this case <a
href="http://stackoverflow.com/questions/3386679/connection-ajax-couchdb-and-javascript">here</a>. Seems like my problem could be overcame by changing url in index.html and hostname couchdb listens on to the same address.
</p>

<p>
I&#8217;ve also created a view, that would expose an event by key: <a
href="https://github.com/zygm0nt/gmapped/blame/master/couchdb/by_date_view.js">view
code</a>
</p>

<h2>Presenting the dots</h2>

<p>
As a back-end I&#8217;ve done some JQuery based AJAX calls - nothing too
fancy. All things necessary for presentation layer are in <a
href="https://github.com/zygm0nt/gmapped/blob/master/index.html">this
file</a>.
</p>

<h2>Things to consider</h2>

<p>
Please bear in mind that this whole application is rather a playground,
not a full-fledged project!! After creating all the parts I have some
doubts about some architectural decisions I made. I don&#8217;t think the
security have been taken into account seriously enough. Also scalability
was never an issue ;-)
</p>

<p>
If you have some thoughts about any of the aspects mentioned in this
post, please feel free to comment or contact me directly :)
</p>

<p>

And also you may try the application by yourself - it&#8217;s on the <a
href="https://github.com/zygm0nt/gmapped">GitHub</a>.
</p></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="http://mcl.jogger.pl">Marcin</a></div>
<div class='content'>
<p>@Piotrek, here is a link to JIRA ticket concerning this feature. I think it is being discussed ATM: https://issues.apache.org/jira/browse/COUCHDB-431</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://blog.koszulinski.pl">Piotrek Reinmar Koszuliński</a></div>
<div class='content'>
<p>About Same Origin Policy - now there&#8217;s Cross Origin Resource Sharing available in most of common browsers. It should help You if CouchDB has support for it.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://mcl.jogger.pl">Marcin</a></div>
<div class='content'>
<p>@klausa, thanks for your advice. I&#8217;ve made some changes to the post.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://klausa.jogger.pl">klausa</a></div>
<div class='content'>
<p>&gt;The main idea was to create an app, that would dynamically update itself with geographic data flowing in. <br />
<br />
Not to nitpick, but that doesn&#8217;t seem like an idea for app. I think you should explain what that displayed data is here.  If you moved your &#8216;Presenting the dots&#8217; paragraph just above &#8216;Toys used&#8217;, it would be clear what do you wanted to do with this app.<br />
<br />
&gt;Also remember to add allow_jsonp = true to you config file /opt/couchbase/etc/couchdb/local.ini.<br />
<br />
I think you should explain what that option *really* does.<br />
<br />
Other than that, nice post!</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/08/23/5-best-things-to-do-with-your-kindle/">5 Best Things to Do With Your Kindle</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-08-23T00:19:14+02:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>


<p>
I bought a Kindle (3rd generation, Wi-Fi only) some time ago - like half
a year ago. Read some
books, done some web-browsing (awful, quite unpleasant). Gradually I
became more and more curious of other things possible to achieve with
this slate-looking piece of tech. These are my thoughts and ideas.
</p>

<p>
Got a Kindle? Use it every day? Feel like modding or extending your ways
of usage? Great! Read on, and share your thoughts in comments!
</p>

<EXCERPT>

<ol>

<li>
Readability! - This web app is great! Generally this is a simple plug-in
for your browser that will show a little button somewhere on the
toolbar, and if you click it, the page you&#8217;re reading now will be
transformed into nice and sleek content-only page. Look on the screen
below:<br/>

<a href="http://blog.innovative-labs.com/blog/readability_effect.png"><img border="0"
src="http://blog.innovative-labs.com/blog/readability_effect_small.png"/></a>
<br/>

This plug-ins additional function is sending to Kindle account. That&#8217;s
the nicest way to read those loads of RSS-sources articles :) The only
limitation is that graphics won&#8217;t be included if resulting file would
exceed allowed size of kindle documents - that&#8217;s 2MB AFAIR.

<br/>

<img src="http://blog.innovative-labs.com/blog/readability_menu.png"/>

</li>


<li>
<b>Install some hacks!</b> - be that serious hacks or rather some simple
software modifications:

<ul>
    <li>read all book formats with Calibre - <a
href="http://www.hacktheday.com/quick-simple-guide-hacking-kindle-nook-ebooks/">link</a></li>
    <li>play Zork on a Kindle!!! - <a
href="http://poptunes.org/howto-hack-your-kindle-to-run-zork-and-change-screensavers">link</a></li>
    <li>alternative Kindle keyboard - <a
href="http://hackaday.com/2011/07/28/frankenkindle-building-an-alternate-kindle-keyboard/">link</a></li>
    <li>custom fonts - <a
href="http://www.mobileread.com/forums/showthread.php?t=88004">link</a></li>

</ul>

</li>

<li><b>Install custom screen-savers</b> - <a
href="http://wiki.mobileread.com/wiki/Kindle_Screen_Saver_Hack_for_all_2.x_and_3.x_Kindles">do
this</a> 
to be able to install your own images. &#8230;because you&#8217;ve always wanted
to have some other things on screen when your kindle is in standby mode. Of
course, the original screen-savers look great, but there are only few.
Installing this hack gave me an opportunity to have a multitude of new
images. Now my Kindle looks even better!</li>

<li><b>Try out Chinese kindle software - <a
href="http://www.duokan.com/forum/thread-16541-1-1.html">doukan.com</a></b> -  As a matter
of fact, I haven&#8217;t installed that software yet. It doesn&#8217;t look good
enough for me, and has some minor problems. However this is great, that
there is actually some other option - I&#8217;m not forced to use the official
firmware. And this distribution has many nice features like PDF reflow.</li>

<li><b>Enable Chinese fonts support on your kindle</b> - damn! I&#8217;d like
a simple, step by step tutorial on how to set up chinese fonts on a
kindle. I&#8217;d like to put some font file on my device, fire some
chinese book and be able to see the actual characters..</li>

<li><b>Programming for Kindle</b> - with <a
href="http://www.amazon.com/kdk">Kindle Official SDK</a> - well, not
quite! - unfortunately this is reserved only for the Chosen Ones. I&#8217;ve
applied for the SDK but they
haven&#8217;t sent me my developer key yet, and it&#8217;s been ~2 months. This is
not &#8220;being supportive&#8221; or &#8220;supporting the community&#8221;.</li>

</ol>

<p>
And how do You use your Kindle? Perhaps you&#8217;re doing some serious, crazy
things with it? Share your thoughts!</p></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="">Hoppke</a></div>
<div class='content'>
<p>Zgłosiłem się po kindlowe SDK prawie rok temu i niiic, cisza. Widać nie jestem dość cool, by dać mi tę zabawkę do ręki :)<br />
<br />
Co do książek, to fakt, DRM wszędzie. Ale DRM w ebookach działa jak każdy inny (czyli marnie &#8211; da się zdjąć DRM Empiku, Amazona, itp.), więc użytkownik z odrobiną zacięcia da radę.<br />
<br />
PS. Mój kindel  postanowił wyzionąć ducha jakoś w zeszłym tygodniu, na 10 dni przed upływem gwarancji. Kindle znajomej padł ciut (tydzień-dwa?) wcześniej. Amazon bez szemrania wysyła nowe, ale&#8230; nie sposób oprzeć mi się uczuciu, że te urządzonka były obliczone na rok życia. A przynajmniej pierwsza seria z preorderów, obecne są (mam nadzieję) już trwalsze.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://pecet.jogger.pl">pecet</a></div>
<div class='content'>
<p>Dzięki za odpowiedzi :)</p></div>
</div>
<div class='comment'>
<div class='author'><a href="">moher</a></div>
<div class='content'>
<p>Też kupowałem kindle ~6 m-cy temu więc się wtrącę:<br />
<br />
Ad  1. Ja kupowałem bezpośrednio w Amazonie i nie zapłaciłem VAT-u (OIDP cła na elektronikę z USA nie ma).<br />
Ad 2.  Przeglądarka IMHO z JS radzi sobie całkiem dobrze, ale jest cholernie wolna i nawigacja jest niewygodna.<br />
Ad 3.  Domyślnie tylko WPA2-PSK, ale jest tam nomalny wpa supplicant więc można edytować sobie konfig i szaleć.<br />
Ad 4. Ja całkiem sporo czytam i ładuje raz na miesiąc, może minimalnie częściej.<br />
Ad 5. Można kupować z Amazona, ja kupuje z Amazon UK, bo kiedy konfigurowałem Kindle to miał niższe ceny książek. Co do DRM to obsługuje tylko swój DRM (czyba azw, czyli mobi + Amazonowy DRM),  z innych trzeba zdjąć DRM i skonwertować na obsługiwany format (Calibre rulez!).</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://mcl.jogger.pl">Marcin</a></div>
<div class='content'>
<p>Okej, no więc po koleji:<br />
<br />
1. Kupowałem bezpośrednio na Amazon - tyle że na amerykańskim, bo tylko z tamtego ślą Kindle do Polski. Uważam, że to jest najtańsza możliwa opcja. Cło opłaca Amazon, Ty niczym się nie przejmujesz, wszystko jest zrobione za Ciebie. Cała impreza kosztowała mnie coś koło 400zł (Kindle 3 wifi only). Z tego co widziałem to na Allegro jest zdecydowanie drożej.<br />
<br />
2. Przeglądanie stron na Kindlu to tylko w razie naprawdę dużej potrzeby. Mi się nie podoba, wyświetlacz jest na tyle mało responsywny, że swobodne surfowanie po sieci jest niewykonalne. Jak musisz koniecznie coś sprawdzić, to sprawdzisz, ale dla przyjemności to raczej w ten sposób się tego nie robi ;-)<br />
<br />
3. Nie mam dostępu do WPA2 z Radiusem. Używam na WPA2 z PSK - i działa bez zarzutu. Może pogooglaj gdzieś? <br />
<br />
4. To prawda, trzyma miesiąc, tylko trzeba pamiętać żeby Wi-Fi wyłączać, bo nawet na standbaju zrzera baterię.<br />
<br />
5. W Polsce można bez problemu kupować książki z Amazona (nadal, przez Wifi, bo przez 3G to nie wiem). Co do Polskich sklepów, to o ile oferują wspierane przez Kindla formaty, to nie powinno być problemu. Ja osobiście raczej mało książek kupuję na Kindla - korzystam z ogólno dostępnej klasyki + mam osobno kupione PDFy itp. Generalnie nie przeczytasz żadnych książek w pub&#8217;ach ani tym podobnych formatach. Aczkolwiek są na to haki (między innymi chinski software, o którym pisałem).<br />
<br />
W każdym razie polecam zakup, bo naprawdę warto - chyba że wolałbyś coś w stylu IPada (kolory, łatwe surfowanie), to wtedy Kindle nie jest dla Ciebie :)</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://pecet.jogger.pl">pecet</a></div>
<div class='content'>
<p>Sorry że po polsku, ale przymierzam się do kupna Kindla, i mam parę pytań, wybacz jeśli zaśmiecam ci notkę:<br />
<br />
1. Gdzie kupowałeś bezpośrednio na Amazonie czy przez pośrednika z Allegro, jak z cłem i innymi podatkami? <br />
2. Przeglądarka w Kindle 3 podobno na webkicie, jak w praktyce, dobrze sobie radzi ze stronami, co z JSem?<br />
3. WiFi obsługuje szyfrowanie WPA2 korporacyjne z serwerem RADIUS, czy tylko wersję WPA2 z PSK?<br />
4. Jak z bateryjką, słyszałem że miesiąc daje rady, prawda to?<br />
5. Można w Polandii kupować w Amazonie książki do Kindla? Są jakieś polskie sklepy z polskimi legalnymi ksiażkami, które później bez problemów wrzucę do Kindla, czy przez DRM nie da rady?</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/10/09/reading-research-papers/">Reading research papers for fun and profit</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/24/it-minimalist/">IT minimalist</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/07/mac-os-x-switch/">Should you switch to Mac?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/04/29/scalar-conf-2016/">Scalar Conf 2016</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/20/lambda-days-2016/">Lambda Days 2016</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/zygm0nt">@zygm0nt</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'zygm0nt',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("zygm0nt", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/zygm0nt" class="twitter-follow-button" data-show-count="false">Follow @zygm0nt</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Marcin Cylke -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'marcinbloguje';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
