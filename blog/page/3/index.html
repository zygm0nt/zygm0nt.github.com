
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Marcin bloguje</title>
  <meta name="author" content="Marcin Cylke">

  
  <meta name="description" content="JMS seems like a hostile ground. It has all it&#8217;s quirks and strange behaviours. A couple of defining standards plus esoteric brokers, queues &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zygm0nt.github.com/blog/page/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Marcin bloguje" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-172194-10']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">mob</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Marcin bloguje</a></h1>
  
    <h2>.impressions.memos.tech.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zygm0nt.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/12/08/easier-and-nicer-jms/">Easier and Nicer JMS</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-12-08T10:22:34+01:00" pubdate data-updated="true">Dec 8<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<table border="0">
<tr><td>
<p>
JMS seems like a hostile ground. It has all it&#8217;s quirks and strange
behaviours. A couple of defining standards plus esoteric brokers, queues
and topics.
</p>

</td>
<td><img src="http://blog.innovative-labs.com/blog/Screwdriver.jpg" width="150" /></td></tr></table>

<p>
At work, we mainly use open source Jms solutions, namely Apache
ActiveMQ. This one is usually bundled with Apache Servicemix, as a
message broker for this particular ESB. As there are some minor caveats
in this scennerio, I&#8217;d like to describe here some guidelines for getting
to running JMS queues.
</p>
<EXCERPT/>
<p>
Treat this post as a quick cheat sheet with the most common things about
JMS I tend to forget :)
</p>

<p>
Minor glitches encountered during work with embedded broker led to some
thoughts about switching to external broker. This is how I configure SMX
and AcviteMQ.
</p>
<p>
Necessary steps:</p>
<ul>
<li> change <i>apache-servicemix/conf/servicemix.properties</i> <b>activemq.port</b>
to sth else than standard, for example 61626</li>
<li> change <i>apache-activemq/conf/activemq.xml</i> with this settings:
 <ul>
    <li> change port, the service listens on:

<pre class="brush: xml">
        <transportConnectors>
            <transportConnector name="openwire" uri="tcp://localhost:61626"/>
        </transportConnectors>
</pre></li>
    <li> setup separate JMX instance:
<pre class="brush: xml">
        <managementContext>
            <managementContext createConnector="true" connectorPort="2011"/>
        </managementContext>
</pre></li>
</ul>
</li>
<li> the nicest tool I found for browsing queues and topics is <a href="http://www.hermesjms.com">Hermes
JMS</a>. Sample config, that connects Hermes to ActiveMQ instance is on
the picture below:

<img src="http://blog.innovative-labs.com/blog/easy_jms.png" width="550" alt="HermesJMS to ActiveMQ connection config"/>
</li>
<li> sending simple messages with Hermes is basic, but what if you need to
set some headers, send bulk messages, etc. Easy, just use Hermes xml
format. Look like this code snippet below and is rather self-explanatory:

<pre class="brush: xml">
<content>
    <entry type="1">
        <textMessage JMSDeliveryMode="2" JMSExpiration="0" JMSPriority="0" JMSRedelivered="false" JMSTimestamp="0">
            <headerProperty name="caseId" type="java.lang.String" value="105"/>
            <text><![CDATA[<message>
  <event>
    <case>
      <CASE_ID>105</CASE_ID>
      <EVENT>1235</EVENT>
    </case>
  </event>
</message>]]></text>
        </textMessage>
    </entry>
</content>
</pre>
</li>
<li> since we use lots of <a href="http://camel.apache.org">Apache
 Camel</a> to consume messages, here is a simple way to start broker in
your tests:
<ul>
    <li> start a broker
<pre class="brush: java">
        BrokerService broker = new org.apache.activemq.broker.BrokerService();
        broker.setBrokerName("AMQ-1");
        broker.addConnector("tcp://localhost:51616");
        broker.setPersistent(false);
        broker.start();
</pre>
     Notice it has persistance disabled.
</li>
    <li> initialize Camel&#8217;s JMS component:
<pre class="brush: java">
    ctx.removeComponent("jms");
    ctx.addComponent("jms", ActiveMQComponent.activeMQComponent("tcp://localhost:51616"));
</pre></li>
    <li> if you want to pass messages to reference endpoints, (like <i>ref:input</i>), use this wrapper method:
<pre class="brush: java">
private JmsEndpoint createJmsEndpoint(String endpoint) throws JMSException {
        ActiveMQComponent amqc = (ActiveMQComponent) ctx.getComponent("jms");
        JmsEndpoint endp = JmsEndpoint.newInstance(new ActiveMQTopic(endpoint), amqc);
        return endp;
}

createJmsEndpoint("ESB/XYZ")
</pre>
</li>
</ul>
</li>
</ul>
These are all the tricks I&#8217;ve got for now! But if you know some other
good tools that handle JMS, feel free to comment!

Got more advices, again, comment!
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/11/06/best-pigsticking-ever/">Best Pigsticking, EVER!</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-11-06T20:41:28+01:00" pubdate data-updated="true">Nov 6<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>This looks like the best pigsticking ever! Look at that little girl! The blood, butcher&#8217;s knife, and child&#8217;s soother :)</p>


<center><img src="http://blog.innovative-labs.com/blog/DSC_0872.JPG" width="400"/></center>

<font size="-2">Photo from Jamie Oliver&#8217;s cookbook, &#8220;Jamie&#8217;s Italy&#8221;. Available on <a href="http://www.amazon.com/Jamies-Italy-Jamie-Oliver/dp/1401301959/ref=sr_1_1?ie=UTF8&s=books&qid=1289068802&sr=8-1">Amazon</a>.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/10/21/schematron-to-the-rescue/">Schematron to the Rescue!</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-10-21T10:40:37+02:00" pubdate data-updated="true">Oct 21<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<table border="0">
<tr><td>
<p>In an ideal world all the standards fit well into their places. It is sufficient to use just one serious standard, because all the problems can be solved with it - the standardization processes is there for some reason. But that happens only in ideal
world, which we&#8217;re not living in. </p></td> <td><img src="http://blog.innovative-labs.com/blog/simpson_schematron.png" width="100"/>
</td></tr></table>

<p>In ideal world, when dealing with XML instances you&#8217;d be more than fulfilled using XML Schema, or RelaxNG, or any other simple xml formal  definition language to declare your data structure. With that you get rigid rules as to how XML documents should look like. There doesn&#8217;t seem to be much space to deviate from specs. Well, in fact there is.</p>

<EXCERPT/>

<p>The main problem of XML, aside its verbosity, is the inability to create concise rules for the input or output document as a whole. Perhaps it&#8217;s a nice feature, because XML Schema should only be used to describe a data structure, not to infer business rules on it. Perhaps not. Nevertheless it&#8217;s not what I needed in one of the projects I&#8217;ve worked on.</p>

<p>My need was to actually check the business validity of such documents. This was used in a Web Service environment, a pretty stupid WS, which sole role was to fetch data from database and pack it into appropriate XML structures. Errors might occur in database&#8217;s views or in WS - as usual. They might be data multiplication or appearance of some elements while they shouldn&#8217;t. Resulting documents were correctly validated with the xml schema, but the result was simply wrong from the business point of view.</p>

<p>What I needed an XML formalization language, an ability to write rules that would assert some rules, report on not meeting stated rules. I was in need of a tool to write business rules to tame such XML entities.</p>

<p>The simplest way I found to solve this was to use <a href="http://www.schematron.com/">Schematron!</a> - &#8220;a language for making assertions about patterns found in XML documents&#8221;. This neat tool is a set of XSL templates, that you use in conjunction with a rule set on documents to check. As a result of the check you get another XML document with test assertions - whether failed or succeeded.</p>

<p>With Schematron you write a set of rules you expect the document to assert, than you use Schematron XSL template to produce XSL rules specific for your case. Now you only need to use newly generated XSL rules template on your XML document to check rules compliance. Easy, if not, check the diagram below.</p>


<img src="http://blog.innovative-labs.com/blog/schematron_flow.png"
width="600"/>

<h2>How does it look?</h2>

The rules&#8217; file may look like this:

<pre class="brush: xml">
<?xml version="1.0" encoding="iso-8859-1"?>
<iso:schema    xmlns="http://purl.oclc.org/dsdl/schematron" 
           xmlns:iso="http://purl.oclc.org/dsdl/schematron" 
           xmlns:sch="http://www.ascc.net/xml/schematron"
           xmlns:dp ="http://www.dpawson.co.uk/ns#"
           xmlns:pc="http://example.com/pc/type"
           queryBinding='xslt2'
           schemaVersion="ISO19757-3">
  <iso:title>TouK Schematron test harness</iso:title>

  <iso:ns prefix="pc" uri="http://example.com/pc/types" />  


<iso:pattern id="pc.getMigrationOffers">
  <iso:title>checking GetMigrationOffers</iso:title>
  <iso:rule context="pc:getMigrationOffersResponse">
    <iso:report test="true()">Report date.<iso:value-of select="current-dateTime()"/></iso:report>
    <iso:assert test="count(//@offerId[. = current()/@offerId]) = 1" >Unique offers allowed.</iso:assert>
    <iso:assert test="count(//@asb) = 1">Each offer has to have an @abc attribute </iso:assert>
  </iso:rule>
  <iso:rule context="pc:offer">
    <iso:assert test="count(pc:tariff) = 1">Each offer has to have a tariff</iso:assert>
    <iso:assert test="count(pc:offerPromotion) = 1">Each offer has to have a promotion</iso:assert>
  </iso:rule>
</iso:pattern>

<iso:pattern id="pc.getAllPhones">
  <iso:title>checking GetAllPhones</iso:title>
  <iso:rule context="pc:tac">
    <iso:assert test="count(parent::node()/pc:tac[. = current()]) = 1">
        TACs should be unique. TAC: <iso:value-of select="."/>, 
        handsetId: <iso:value-of select="parent::node()/@handsetId"/>
        offerId: <iso:value-of select="parent::node()/@offerId"/>
    </iso:assert>
  </iso:rule>
</iso:pattern>

</iso:schema>
</pre>

<p>Here we see two rules, one named <b>getMigrationOffers</b> and the other <b>getAllPhones</b>. The rules - mainly their asserts seem pretty self explanatory, but for the sake of completeness I&#8217;ll describe the rules for <b>getAllPhones</b>.</p>

<p>There is one rule, which checks the uniqueness of <b>tac</b> elements. This rule tries to ensure that each handset should have a list of unique tac elements as its children. However there may appear tac elements of the same value in different handset elements.</p>

<p>Given an input XML in the form of:</p>

<pre class="brush: xml">
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
   <soap:Body>
      <getAllPhonesResponse xmlns="http://example.com/pc/types">
         <handset endDate="2010-12-31T00:00:00.000+01:00" grossPrice="399" handsetId="95" isAllPhones="true" isPhone="true" manufacturer="SonyEricsson " materialSymbol="TE-SE-XW980-NS1-00" name=" Sony Ericsson W980, Open Market 48H" netPrice="327.04" offerId="103021" priceListId="5912" startDate="2010-03-22T00:00:00.000+01:00">
            <tac>12028006</tac>
            <tac>20070705</tac>
            <tac>35535302</tac>
            <tac>01216100</tac>
            <tac>01216100</tac>
         </handset>
         <handset endDate="2010-12-31T00:00:00.000+01:00" grossPrice="399" handsetId="95" isAllPhones="true" isPhone="true" manufacturer="SonyEricsson " materialSymbol="TE-SE-XW980-NS1-00" name=" Sony Ericsson W980, Open Market 48H" netPrice="327.04" offerId="103056" priceListId="5912" startDate="2010-03-22T00:00:00.000+01:00">
            <tac>12028006</tac>
            <tac>20070705</tac>
            <tac>35535302</tac>
            <tac>01216100</tac>
         </handset>
         <handset endDate="2010-12-31T00:00:00.000+01:00" grossPrice="399" handsetId="95" isAllPhones="true" isPhone="true" manufacturer="SonyEricsson " materialSymbol="TE-SE-XW980-NS1-00" name=" Sony Ericsson W980, Open Market 48H" netPrice="327.04" offerId="103032" priceListId="5912" startDate="2010-03-22T00:00:00.000+01:00">
            <tac>12028006</tac>
            <tac>20070705</tac>
            <tac>35535302</tac>
            <tac>01216100</tac>
         </handset>
       </getAllPhonesResponse>
   </soap:Body>
</soap:Envelope>
</pre>

And passing those two files through the processing pipeline you get a report:

<pre class="brush: xml">
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<svrl:schematron-output xmlns:schold="http://www.ascc.net/xml/schematron"
                        xmlns:iso="http://purl.oclc.org/dsdl/schematron"
                        xmlns:saxon="http://saxon.sf.net/"
                        xmlns:pc="http://example.com/pc/types"
                        xmlns:xs="http://www.w3.org/2001/XMLSchema"
                        xmlns:svrl="http://purl.oclc.org/dsdl/svrl"
                        xmlns:xhtml="http://www.w3.org/1999/xhtml"
                        xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                        title="TouK Schematron test harness"
                        schemaVersion="ISO19757-3">
    
   <svrl:ns-prefix-in-attribute-values uri="http://example.com/pc/types" prefix="pc"/>
   <svrl:active-pattern document="file:/tmp/schematron/getAllPhones.xml" id="pc.getMigrationOffers"
                        name="checking GetMigrationOffers"/>
   <svrl:active-pattern document="file:/tmp/schematron/getAllPhones.xml" id="pc.getAllPhones"
                        name="checking GetAllPhones"/>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:failed-assert test="count(parent::node()/pc:tac[. = current()]) = 1"
                       location="/*:Envelope[namespace-uri()='http://www.w3.org/2003/05/soap-envelope'][1]/*:Body[namespace-uri()='http://www.w3.org/2003/05/soap-envelope'][1]/*:getAllPhonesResponse[namespace-uri()='http://example.com/pc/types'][1]/*:handset[namespace-uri()='http://example.com/pc/types'][1]/*:tac[namespace-uri()='http://example.com/pc/types'][4]">
      <svrl:text>
        TACs should be unique. TAC: 01216100, 
        handsetId: 95
        offerId: 103021</svrl:text>
   </svrl:failed-assert>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:failed-assert test="count(parent::node()/pc:tac[. = current()]) = 1"
                       location="/*:Envelope[namespace-uri()='http://www.w3.org/2003/05/soap-envelope'][1]/*:Body[namespace-uri()='http://www.w3.org/2003/05/soap-envelope'][1]/*:getAllPhonesResponse[namespace-uri()='http://example.com/pc/types'][1]/*:handset[namespace-uri()='http://example.com/pc/types'][1]/*:tac[namespace-uri()='http://example.com/pc/types'][5]">
      <svrl:text>
        TACs should be unique. TAC: 01216100, 
        handsetId: 95
        offerId: 103021</svrl:text>
   </svrl:failed-assert>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:fired-rule context="pc:tac"/>
   <svrl:fired-rule context="pc:tac"/>
[...]
</svrl:schematron-output>
</pre>

<p>After running the validation, the report presents us with the result. It shows that there are actually non-unique tacs. Unfortunately the rule itself is not so optimal, as it is executed for each tac node. The better case would be to create a rule operating only on groups of tacs - having a rule for each handset&#8217;s tacs would be much better.

<h2>Performance consideration</h2>

<p>As you may have seen, Schematron gives quite a potential, if it comes to rules building - maybe not the easiest to comprehend, since written with XPath, but good enough.</p>

<p>However, with all the XML processing involved in the process, it may take some considerable amount of time to execute such validations. For example, processing rules for file <b>getMigrationOffers.xml</b> takes about 2.296s - the file has 82 offer elements, which the rules operate on. But validating the other file, <b>getAllPhones.xml</b> takes 5.324s, with 3113 tac elements, and the rule iterating all of them.</p>

<p>This overhead is too much in most of the situations. That&#8217;s why this solution is rather not for use in normal execution pipeline - it would be unwise to put Schematron to check each request, thus entangle it into my Web Services normal flow.</p>

<p>What may be more desirable is to deploy a continuous integration server, with a project querying such Web Service and checking the rules in this manner.</p>

<h2>Conclusion</h2>

<p>So, what&#8217;s so great about having one XML generate another XML? Perhaps nothing, I think it would took just about a day to write some shell, python, &lt;other text processing tool&gt; that would perform equally (or even better). However, we loose technology homogeneity, and employ some other environments, not specific to our primary target platform, and that seems bad. Of course using some powerful text processing tool to impose the same rules might be much more efficient, thou less coherent.</p>

<p>What is your approach to such situations? Have you used Schematron or any other similar tool?</p>

<p><font size="-2">Code for this example is available on GitHub - <a
href="http://github.com/zygm0nt/schematron-example">http://github.com/zygm0nt/schematron-example</a>.</font></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/08/26/complex-flows-with-apache-camel/">Complex Flows With Apache Camel</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-08-26T22:23:52+02:00" pubdate data-updated="true">Aug 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>
At work, we&#8217;re mainly integrating services and systems, and since we&#8217;re on a constant lookout for new, better
technologies, ways to do things easier, make them more sustainable, we&#8217;re trying to 
</p>
<p>
Usually we use <a href="http://camel.apache.org">Apache Camel</a> for this task, which is a Swiss-knife for 
integration engineer. What&#8217;s more, this tools corresponds well with our approach to integration solutions:
</p>
<ul>
<li> try to operate on XML messages, so you get the advantage of XPaths, XSL and other benefits,
<li> don&#8217;t convert XML into Java classes back and forth and be worried with problems like XML conversion,
<li> try to get a simple flow of the process.
</ul>

<p>
However, at first sight Apache Camel seems to have some drawbacks mainly
in the area of  practical solutions ;-).
It&#8217;s very handy tool if you need to use it as a pipeline with some marginal processing of 
the data that passes through it. It gets a lot harder to wrap your head around if you consider some 
branching and intermediate calls to external services. This may be tricky to write properly in Camel&#8217;s DSL.
</p>
<p>
Here is a simple pipeline example:
</p>
<img src="http://blog.innovative-labs.com/blog/simple_flow.png" width="600"/>
<p>
And here the exact scenario we&#8217;re discussing:
</p>
<img src="http://blog.innovative-labs.com/blog/branched_flow.png" width="600"/>

<p>
What I&#8217;d like to show is the solution to this problem. Well, if you&#8217;re using a recent version of Camel 
this may be easier, a little different, but should still more-or-less
work this way. This code is written for 
Apache Camel 1.4 - a rather antic version, but that&#8217;s what we&#8217;re forced to use. Oh, well.
</p>

<p>
Ok, enough whining!
</p>
<p>
So, I create a test class to illustrate the case. The route defined in <b>TestRouter</b> class is responsible for:
</p>

<ol>
<li> receiving input
<li> setting exchange property to a given xpath, which effectively is the name of the first XML element in the input stream
<li> than, the input data is sent to three different external services, each of them replies with some fictional data - notice routes <b>a</b>, <b>b</b> and <b>c</b>.  The <b>SimpleContentSetter</b> processor is just for responding with a given text.
<li> the response from all three services is somehow processed by <b>RequestEnricher</b> bean, which is described below
<li> eventually the exchange is logged in specified category
</ol>

<p>
Here is some code for this:
</p>

<pre class="brush: java">
public class SimpleTest {
    public void setUp() throws Exception {
        TestRouter tr = new TestRouter();
        ctx.addRoutes(tr);
    }

    @Test
    public void shouldCheck() throws Exception {
        ctx.createProducerTemplate().send("direct:in", getInOut("&lt;a/&gt;"));
    }


    class TestRouter extends RouteBuilder {

        public void configure() throws Exception {

            ((ProcessorType&lt;ProcessorType&gt;)from("direct:in")
            .setProperty("operation").xpath("local-name(/*)", String.class)
            .multicast(new MergeAggregationStrategy())
                .to("direct:a", "direct:b", "direct:c")
            .end()
            .setBody().simple("<wrap>${in.body}</wrap>"))
            .bean(RequestEnricher.class, "enrich")
            .to("log:pl.touk.debug");
            
            from("direct:a").process(new SimpleContentSetter("&lt;aaaa/&gt;"));
            from("direct:b").process(new SimpleContentSetter("&lt;bbbb param1=\"1\" param2=\"2\" param3=\"3\"/&gt;"));
            from("direct:c").process(new SimpleContentSetter("&lt;cccc/&gt;"));
        }
    }
}
</pre>

<p>
What&#8217;s unusual in this code is the fact, that what normally Camel does when you write a piece of DSL like:
</p>

<pre class="brush: java">
	.to("direct:a", "direct:b", "direct:c")
</pre>

<p>
is pass input to service <b>a</b>, than <b>a</b>&#8217;s output gets passed to <b>b</b>, becomes it&#8217;s input, than
<b>b</b>&#8217;s output becomes <b>c</b>&#8217;s input. The problem being, you loose the output from <b>a</b> and <b>b</b>, 
not mentioning that you might want to send the same input to all three services.
</p>

<p>
That&#8217;s where a little tool called <i>multicast()</i> comes in handy. It offers you the ability to aggregate 
the outputs of those services. You may even create an <b>AggregationStrategy</b> that will do it the way you like. 
Below class, <b>MergeAggregationStrategy</b> does exactly that kind of work - it joins outputs from all three 
services. A lot of info about proper use of <b>AggregationStrategy</b>-ies can be found in 
<a href="http://tmielke.blogspot.com/2009/01/using-camel-aggregator-correctly.html">this post by Torsten Mielke.</a> 
</p>

<pre class="brush: java">
public class MergeAggregationStrategy implements AggregationStrategy {

	public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {
		if (oldExchange.isFailed()) {
			return oldExchange;
		}
		transformMessage(oldExchange.getIn(), newExchange.getIn());
		transformMessage(oldExchange.getOut(), newExchange.getOut());
		return newExchange;
	}
	
	private void transformMessage(Message oldM, Message newM) {
		String oldBody = oldM.getBody(String.class);
		String newBody = newM.getBody(String.class);
		newM.setBody(oldBody + newBody);
	}
	
}
</pre>

<p>
However nice this may look (or not), what you&#8217;re left with is a mix of multiple XMLs. Normally this 
won&#8217;t do you much good. Better thing to do is to parse this output in some way. What we&#8217;re using for this 
is a Groovy :). Which is great for the task of parsing XML. A lot less verbose than ordinary Java.
</p>

<p>
Let&#8217;s assume a scenario, that the aggregated output, currently looking like this:
</p>

<pre class="brush: xml">
	<aaaa></aaaa>
	<bbbb></bbbb>
	<cccc></cccc>
</pre>

<p>
is to be processed with the following steps in mind:
</p>

<ul>
<li> use <i>&lt;aaaa/&gt;</i> as the result element
<li> use attributes <i>param1</i>, <i>param2</i>, <i>param3</i> from element <i>&lt;bbbb/&gt;</i> and add it to result element <i>&lt;aaaa/&gt;</i>
</ul>

<pre class="brush: groovy">
public class RequestEnricher {
	
	public String enrich(@Property(name = "operation") String operation, Exchange ex) {
		
		use(DOMCategory) {
			def dhl = new groovy.xml.Namespace("http://example.com/common/dhl/schema", 'dhl')
			def pc = new groovy.xml.Namespace("http://example.com/pc/types", 'pc')
			def doc = new XmlParser().parseText(ex.in.body)
			
			def pcRequest   = doc."aaaa"[0]
			
			["param1", "param2", "param3"].each() {
				def node = doc.'**'[("" + it)][0]
				if (node)
					pcRequest['@' + it] = node.text()
			}
			
			gNodeListToString([pcRequest])
		}
		
	}
	
	String gNodeListToString(list) {
		StringBuilder sb = new StringBuilder();
		list.each { listItem -&gt;
			StringWriter sw = new StringWriter();
			new XmlNodePrinter(new PrintWriter(sw)).print(listItem)
			sb.append(sw.toString());
		}
		return sb.toString();
	}
	
}
</pre>

<p>
What we&#8217;re doing here, especially the last line of <b>enrich</b> method is the conversion to String. There are
some problems for Camel if we spit out Groovy objects. The rest is just some Groovy specific ways of manipulating XML.
But looking into <b>enrich</b> method&#8217;s parameters, there is <i>@Property</i> annotation used, which binds the property
assigned earlier in a router code to one of the arguments. That is really cool feature and there are more such annotations:
</p> 

<ul>
<li> <i>@XPath</i>
<li> <i>@Header</i>
<li> <i>@Headers</i> and <i>@Properties</i> - gives whole maps of properties or headers
</ul>

<p>This pretty much concludes the subject :) Have fun, and if in doubt,
leave a comment with your question!</p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/08/19/meetbsd-2010/">Meetbsd 2010</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-08-19T00:16:25+02:00" pubdate data-updated="true">Aug 19<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>
Some time ago, I&#8217;ve attended <a href="http://meetbsd.org/">MeetBSD</a>
conference in Kraków. This BSD event is held yearly in either Warsaw, or
Kraków. Due to relatively small group of people that registered there
was only one track, which had both good and bad sides - you didn&#8217;t have
to choose from myriads of lectures, but there was no way to skip boring
ones either. Well, I guess this kind of niche conference - about
operating system :) - will not attract bigger attention.</p>

<center><a href="http://blog.innovative-labs.com/blog/DSC06777.JPG"><img
src="http://blog.innovative-labs.com/blog/DSC06777.JPG" width="350"
border="0"/></a></center>

<EXCERPT/>

<h3>DAY 1</h3>

<p>It took place on 2nd-3rd of July, 2010, so this
review is rather dated :) However, I&#8217;d like to keep this as reminder.
I&#8217;ve arrived to the conference site, which was located in building of
the <a
href="http://www.ii.uj.edu.pl/index.php?page=lokalizacja-instytutu&hl=pol">Faculty of Mathematics and Computer Science</a>
a few minutes after the official start of the conference. I had been
traveling from Warsaw the same day, and the only train that would not
require me to get up at some night hour would arrive a bit too late. Oh
well :)
</p>

<p>
I grabbed a tea and some biscuits and entered the series of lectures.
</p>

<p>
The first thing to listen to was a <b>Welcome intro</b> - quite nice
one. Conducted by a guy from Cisco (AFAIK). He was talking about the
opportunities for Kraków and how it will become a Polish Silicon Valley
in near future, etc. Actually I don&#8217;t share his believes but the talk
was ok. 
</p>

<p>
Then came Dru Lavigne with some insight into <b>BSD Certification</b>
program. Actually, does anybody use this? Come one. Do we really need
another certification process? I for sure don&#8217;t see the need, especially
for the BSD community.  However the trend is good, may help popularize
BSDs among enterprise leaders, because if something is certified, than
it can be used in big enterprises, right? :)
</p></p>

<p>
Sławek Żak talked about <b>NoSQL</b>. Although the talk gave a bit of
info about what the idea is and how does it compare to normal DBs, I did
not find his presentation entertaining. In my opinion, there was not
enough emphasis on the difference in usage for such databases. The talk
about NoSQL I&#8217;d attended on <a
href="http://mcl.jogger.pl/2010/06/27/javarsovia-2010/">Javarsovia</a> was a lot better.
</p>

<p>
Next talk, presented by Attilio Rao was very, very technical. It was
about &#8220;VFS/Vnode interface in FreeBSD&#8221;. It was rather an API
presentation, and introduction on how to implement an FS in FreeBSD
infrastructure, than a conference talk. This kind of presentation would
be good suited for FreeBSD kernel developers not sysadmins.
</p>
<p>
Jakub Klama&#8217;s talk on the process of <b>porting FreeBSD to Da Vinci</b>
embedded system was interesting. It had some photos of the board,
tackled a few technical corners, but caught my attention. Well done!
</p>
<p>
Out guy among FreeBSD hackers - Paweł Jakub Dawidek - gave speech about
<b>HAST - High Availability STorage</b>. In other words he implemented
<a href="http://www.drbd.org/">DRBD</a> for FreeBSD. Sadly, for me this
is just catching up with what Linux has in mainline since 2.6.33 (it was
working very well even before that). It&#8217;s not so feature rich as DRBD,
but the project is slowly maturing.  Nevertheless, it&#8217;s good to finally have this on board.
</p>
<p>
Then an inconspicuous guy come onto the stage. Came from Bulgaria, named
Nikolay Aleksandrov, that guy gave a talk titled <b>Developing high
speed FreeBSD</b>. And the subject was astounding. He works for a major
Bulgarian ISP and due to lack of cash to buy some serious networking
gear, he wrote a FreeBSD extension that would sit in-between network
adapter and the kernel and do all the hard work like routing, VLANs, and
more. His goal was to make it lighting fast, and as far as his results
showed, he succeeded. This talk was really amazing, he did what would
normally take hundreds of thousands of dollars - in cash and skills - in
his free time, or at least as a pet project.
</p>

<h3>DAY 2</h3>

<p>
Well, I&#8217;d skipped the first lecture of the day, because of laziness ;)
</p>

<p>
Had decide to pack myself and arrive to listen about <b>what can freebsd
borrow from AIX</b>. Jan Srzednicki talked about some nice tools from
the AIX world. He proposed that adding an educational, console-based
tool for conducting basic (and even not so basic) tasks, would encourage
people to learn the system. I think it would work. However the rest of
his ideas weren&#8217;t good enough - at least not for me.
</p>

<p>
Next thing in line was <b>The new USB stack</b>. Interesting talk about
new USB stack development, conducted by Hans Petter Selasky.
  This guy was really passionate about USB things ;-)</p>

<p>
Martin Matuska presented his set of shell scripts that allow to create
<b>mfsBSD</b> - an in-memory FreeBSD install. Since I&#8217;m already doing
this kind of things with <a href="http://openbsd.org">OpenBSD</a>, the talk was entertaining.  
</p>

<p>
Marcko Zec and <b>Network stack virtualization</b>. This was about
extending FreeBSD to be able to create  lots of compartmentalized
environments with their own network stacks. As noted in the
presentation: the solution still has problems with
  graceful shutdown of the stack. Still not stable enough - but very
  promising.
</p>

<p>The closing presentation, given by Warner Losh (<b>very</b>
knowledgeable guy behing <a
href="http://bsdimp.blogspot.com">bsdimp.blogspot.com</a>) on the
subject <b>Using FreeBSD in a commercial settings</b>. The talk was not
what I&#8217;ve expected, but nevertheless was very interesting. It was about
branching and merging back changes in case of using FreeBSD as a base
for some commercial products. This could be easily applied to any other
Open Source project. Warner described possible strategies for branching
and performing merges, he noted also pros and cons of all the described
solutions.
</p>

<p>
All in all, that was a fun time. Even thou I don&#8217;t use any BSD as my
primary system at this time, and my BSD skills are a bit rusty, the
talks were nice enough :) for a hobbist like me.</p>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/08/13/6-hour-layover-in-stockholm/">6+ Hour Layover in Stockholm</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-08-13T00:22:01+02:00" pubdate data-updated="true">Aug 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Last Monday, while coming home from Sweden, I had ~7h layover between my
flights. Since <a href="http://www.arlanda.se/en/">Arlanda Airport</a> does not offer a lot to do, at least not
for me and not for 7h, I had decided to go to Stockholm. This post sums
up a few nice places, that I&#8217;d like to visit on my next trip there.</p>
<EXCERPT><p>I took <a href="http://www.arlandaexpress.com/start.aspx">Arlanda
Express</a>, fast train that takes you directly from the
airport to Stockholm. On board, you travel with 200km/h in good enough
conditions. The trains takes you near the Central station in 20 minutes,
which is great! The main venue I planned to see was <a
href="http://www.old-town-stockholm.com/">Gamla Stan</a>. All the
attractions were also there, on the island.</p>

<p>
The first noteworthy place on the road was Christina&#8217;s costume salon.
Unfortunately closed on the day of my visit, however since it was
recommended to me, and the place look interesting I plan on paying it
another visit. This shop offers a lot of costumes, different sizes,
themes. Website is: <a href="http://www.christinaschollin.com/">Shop&#8217;s
page</a></p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=Storkyrkobrinken+11,+Stockholm,+Sverige&size=600x300&maptype=roadmap&markers=color:red|label:A|59.325766,18.067384&zoom=15&sensor=true"/></td>
</tr>
</table>

<p>
Seems like just a usual gift shop, but has this unique feeling, this
Norsk spirit. Shop offers many fantastic gifts and souvenirs, but
unfortunately they don&#8217;t come cheap. Nevertheless, worth visiting and
perhaps buying. Especially nice were little metal statues of Viking
gods.
<a href="http://www.handfaste.se/index.aspx?language=en"/>Handfaste - The Viking Shop</a>
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.323335,18.071903&zoom=17&markers=59.323335,18.071903&size=600x300&sensor=true"/></td>
</tr>
</table>

<p>
Neat little workshop, that does metal signs on request, from your
design. Very good quality. Actually there are quite a few of such
workshops nearby, but this may serve as a reminder.
<a href="http://detlilleskyltmakeriet.se/">Det &#8220;lille&#8221; Skyltmakerie</a>
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.324668,18.072353&zoom=17&markers=59.324668,18.072353&size=600x300&sensor=true"/></td>
</tr>
</table>

<p>
Awesome sci-fi, fantasy bookshop. Lots of stuff, comics, books, dvds,
collectibles, etc. I strolled into it when going back to the airport,
that&#8217;s why I had only around 5 minutes to look around. But the shop is
definitely worth visiting. They offer English books among Swedish-lang
ones, with 50:50 proportions in quantity.
<a href="http://sfbok.se/">Science Fiction Bokhandeln</a>
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.324019,18.070613&zoom=16&markers=59.324019,18.070613&size=300x300&sensor=true"/></td>

<td><a href="http://blog.innovative-labs.com/blog/DSCN4562.JPG"><img
border="0"
src="http://blog.innovative-labs.com/blog/thumbDSCN4562.JPG" alt="moja fotka"/></a></td>
</tr>
</table>

<p>
The darkest and best supplied metal shop I&#8217;ve ever seen - thou haven&#8217;t
seen many of such stores. Again, stumbled on it on my way to the airport,
so had only around 5 minutes to look around, scan through t-shirts, etc
:D
<a href="http://www.soundpollution.se/"/>Sound Pollution</a>
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.324700,18.068320&zoom=17&markers=59.324700,18.068320&size=300x300&sensor=true"/></td>
<td><a href="http://blog.innovative-labs.com/blog/DSCN4564.JPG"><img
border="0"
src="http://blog.innovative-labs.com/blog/thumbDSCN4564.JPG" alt="moja fotka"/></a></td>
</tr>
</table>

<p>
Some t-shirt shop, had also lots of underwear, dark costumes, etc. I
think there may be more to it than I noticed.
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.324236,18.070247&zoom=15&markers=59.324236,18.070247&size=300x300&sensor=true"/></td>
<td><a href="http://blog.innovative-labs.com/blog/DSCN4561.JPG"><img
border="0"
src="http://blog.innovative-labs.com/blog/thumbDSCN4561.JPG" alt="moja fotka"/></a></td>

</tr>
</table>

<p>
Unfortunately hadn&#8217;t found this during my wandering. Will try next time: 
<a href="http://robertasettels.com/">Roberta Settels shoes designs</a>
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.323753,18.071103&zoom=16&markers=59.323753,18.071103&size=600x300&sensor=true"/></td>
</tr>
</table>

<p>
Don&#8217;t know the name of this packed with designer items place, but it was
warm and cosy :) Prices were high and the utensils neat. Bore marks of
&#8220;Swedish design school&#8221;.
</p>

<table border="0">
<tr>
<td>
<img
src="http://maps.google.com/maps/api/staticmap?center=59.324183,18.071339&zoom=16&markers=59.324183,18.071339&size=300x300&sensor=true"/></td>
<td><a href="http://blog.innovative-labs.com/blog/DSCN4507.JPG"><img
border="0"
src="http://blog.innovative-labs.com/blog/thumbDSCN4507.JPG" alt="moja fotka"/></a></td>


</tr>
</table>

<p><font size="-2"></p>

<p>Maps created with Google Maps Static API:

<ul>
<li><a
href="http://gmaps-samples.googlecode.com/svn/trunk/simplewizard/makestaticmap.html">Generator</a></li>
<li><a
href="http://code.google.com/apis/maps/documentation/staticmaps/">API
docs</a></li>
</ul>

Nice thing to use! Now I&#8217;m searching for a way to may the maps dynamic on
click :)
</p>

<p></font></p>
</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="http://lagom.jogger.pl">lagom</a></div>
<div class='content'>
<p>Så vackert är Stockholm i natt&#8230;</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/06/28/generic-enum-converter-for-ibatis/">Generic Enum Converter for iBatis</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-06-28T22:40:34+02:00" pubdate data-updated="true">Jun 28<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>My goal was to create a simple, extensible Enum converter that would work with <a href="http://www.mybatis.org/">iBatis</a>. This seems like a trivial problem, but took me a while to find a proper solution.</p>
<EXCERPT><p>
There were some additional preconditions:
</p>

<ul>
<li>all given Enums are jaxb generated objects - but any standard Java Enum should work</li>
<li>conversion was 1-to-1, no special conditions and processing
</ul>

<p>The example Enum for this problem looks like this one (copy&amp;paste from jaxb generated source):</p>

<pre>
@XmlType(name ="ServiceType") 
@XmlEnum
public enum ServiceType {

    @XmlEnumValue("stationary")
    STATIONARY("stationary"),
    @XmlEnumValue("mobile")
    MOBILE("mobile");
    private final String value;

    ServiceType(String v) {
        value = v;
    }

    public String value() {
        return value;
    }

    public static ServiceType fromValue(String v) {
        for (ServiceType c: ServiceType.values()) {
            if (c.value.equals(v)) {
                return c;
            }
        }
        throw new IllegalArgumentException(v);
    }

}
</pre>

<p>
&#8220;No big deal&#8221;, you say. I beg to differ. What I wanted to achieve was a simple construction which would look like this when used for another Enum (CommonEnumTypeHandler is the name of my generic converter):
</p>

<pre>
public class ServiceTypeHandler extends CommonEnumTypeHandler<ServiceType> { }
</pre>

<p>Unfortunately due to the fact, that Java does not have reified generics, which is described in <a href="http://stackoverflow.com/questions/1927789/why-should-i-care-that-java-doesnt-have-reified-generics">multiple</a> <a href="http://gafter.blogspot.com/2006/12/super-type-tokens.html">places</a>, I had to stick with passing through a Class type of my enum. So it looks like this:</p>

<pre>
public class ServiceTypeHandler extends CommonEnumTypeHandler<ServiceType> {

    public ServiceTypeHandler() {
        super(ServiceType.class);
    }
}
</pre>

<p>My final class has to look like this one below:</p>

<pre>
import java.sql.SQLException;

import com.ibatis.sqlmap.client.extensions.ParameterSetter;
import com.ibatis.sqlmap.client.extensions.ResultGetter;
import com.ibatis.sqlmap.client.extensions.TypeHandlerCallback;

public abstract class CommonEnumTypeHandler<T extends Enum> implements TypeHandlerCallback {

    Class<T> enumClass;

    public CommonEnumTypeHandler(Class<T> clazz) {
        this.enumClass = clazz;
    }

    public void setParameter(ParameterSetter ps, Object o) throws SQLException {
        if (o.getClass().isAssignableFrom(enumClass)) {
            ps.setString(((T) o).name().toUpperCase());
        } else
            throw new SQLException("Excpected " + enumClass + " object than: " + o);
    }

    public Object getResult(ResultGetter rs) throws SQLException {
        Object o = valueOf(rs.getString());
        if (o == null)
            throw new SQLException("Unknown parameter type: " + rs.getString());
        return o;
    }

    public Object valueOf(String s) {
        return Enum.valueOf(enumClass, s.toUpperCase());
    }
}
</pre>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/06/28/readability-powala/">Readability Powala!</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-06-28T22:39:51+02:00" pubdate data-updated="true">Jun 28<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Już dziś możecie skorzystać z &#8220;umilacza&#8221; czytania artykułów. Od zawsze denerwowało mnie rozpraszające badziewie na stronach z artykułami. Teraz z tym koniec. Odkąd odkryłem Readability &#8211; <a href="http://lab.arc90.com/experiments/readability/">strona bookmarkletu,</a>. </p>

<p>Wszelkie instrukcje na temat korzystania są dostępne na stronie projektu, tak więc warto sprawdzić.</p>
</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="http://mcl.jogger.pl">Marcin</a></div>
<div class='content'>
<p>Zgodnie z niektórymi źródłami, to jednak jest tam część kodu Readability. Polecam ten link:<br />
<br />
http://www.downloadsquad.com/2010/06/08/think-safari-reader-looks-familiar-thats-because-apple-used-op/</p></div>
</div>
<div class='comment'>
<div class='author'><a href="">Dominik Porada</a></div>
<div class='content'>
<p>&gt; Z tego co gdzieś tam czytałem, to nawet Apple wykorzystał kawałki kodu JS z tej strony w Safari nowym.<br />
<br />
Wątpię, aczkolwiek Reader na pewno powstał dzięki inspiracji Readability.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://mcl.jogger.pl">Marcin</a></div>
<div class='content'>
<p>Ta prostota jest najpiękniejsza!<br />
<br />
Z tego co gdzieś tam czytałem, to nawet Apple wykorzystał kawałki kodu JS z tej strony w Safari nowym.</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://worm.jogger.pl">Worm</a></div>
<div class='content'>
<p>Używam od dłuższego czasu. Wreszcie nie bolą mnie oczy :)</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://blog.wasacz.net">Wasacz</a></div>
<div class='content'>
<p>Genialne!</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/06/27/javarsovia-2010/">Javarsovia 2010</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-06-27T17:08:43+02:00" pubdate data-updated="true">Jun 27<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>This year&#8217;s <a href="http://javarsovia.pl/">Javarsovia</a> conference took place on 26th june. It was held at Centrum Konferencyjno-Kongresowe,  Bobrowiecka Street,  Warsaw.</p>

<p>First of all - the organization was very nice. Everything seemed smooth, maybe with the exception of conference registration, it was simply overcrowded.
The agenda was split into four tracks, each hour 4 different presentations were given in different halls. So you just had to choose which one to attend. My path through the conference is described below, together with my views on each of the presentations I attended.</p>

<p><p><br />
The introductory speech conducted by Mateusz Zięba and some other guy from WarJUG, that I can&#8217;t seem remember. The speech was very entertaining.  Guys did really good job with creating the appropriate atmosphere for the rest of the conference.</p></p>

<p>Jakub Nabrdalik (TouK) with his &#8220;How not to bio-degrade your code&#8221;  was like the biggest event of the conference - held on the biggest hall of the building, with lots and lots of people attending. The audience was vivid and responded to Jakub&#8217;s ideas with applause. He played us all very well.</p>

<p>&#8220;From request to response&#8221; by Jarosław Błąd bored me to death. It wasn&#8217;t interesting at all to listen about technical details of request handling by all layers of the JEE stack. - like http server, communication with Java app server, kinds of threads in the latter and the likes. What this presentation <b>should</b> have been about were personal views and opinions on other technologies, frameworks - Jarek started to tackle in Q&A section of his speech - that was the real meat!
</p>

<p>&#8220;Code refactoring&#8221; by Piotr Jagielski - overally good, but due to lots of agile, TDD, etc stuff present in the agenda - I kind of lost interest in that particular one.
</p>

<p>Fortunately dinner came to aid. With my vital forces rejuvenated by means of lasagne my mind&#8217;s comprehension skills were back to normal.
</p>

<p>That allowed me to enjoy Wiktor Gworek&#8217;s presentation about Google&#8217;s style of Java coding. It was worth attending. Thou seamed mainly like a <a href="http://code.google.com/p/guava-libraries/">Google Guava</a> introduction - it gave a really fast presentation of Java concepts, how you can beautify your code and give you joy from what you write and create in your normal work day.
</p>

<p>&#8220;Routes of camel riding&#8221; by Maciek Próchniak - a solid does of technical knowledge by another colleague from TouK. Good one - thou didn&#8217;t get much attention from the public. In fact the topic might have been a little misleading, but still the presentation went out well.
</p>

<p>What Jarek Pałka did with his NoSQL talk wasn&#8217;t ground breaking, but funny enough and entertaining for the finishing act of this conference. For me some moments of his speech were rather enlightening - NoSQL dbs are actually used in some serious real world scenarios! Nice. This presentation gave an insight into one of such DBs - <a href="http://neo4j.org/">Neo4j</a>, a graph handling DB. Left me with a sense of incompleteness - there was no comparison with other NoSQL products, but this is only an encouragement for me to delve deeper into this subject.
</p>

<p>All in all, the conference was a big success, with lots of good talks, meeting friends, talking, listening. Around 650 people were on site, I hope the next one will be even bigger! Please bear in mind that the talks presented by me were only the fourth part of all the talks! AFAIK all of them will be available in video form some time after the conference - perhaps some video editing has to be done, it&#8217;s not always youtube you are targeting ;-)</p>

<p>Oh, and I didn&#8217;t win any small laptops, ipods, books, vouchers - crap. Maybe next year ;-)</p>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2010/06/10/osnews-com-hobby-projects/">osnews.com - Hobby Projects</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-06-10T21:22:56+02:00" pubdate data-updated="true">Jun 10<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Kilka dni temu na portalu <em>OSNews</em> pojawiła się notatka o skromym tytule: <a href="http://osne.ws/i2p">What Are You Working On?</a>.  Takie proste pytanie spowodowało lawinę komentarzy. Mnóstwo projektów, których ludzie się &#8220;dopuszczają&#8221; w czasie wolnym. Wszystkie można przeczytać tutaj: <a href="http://www.osnews.com/comments/23425">komentarze</a>. Jest tam wiele do przeczytania, ale jeden komentarz naprawdę &#8220;zrobił mój dzień&#8221; :)</p>
<EXCERPT><blockquote>
<pre>
Come on people, you can do better than that.

- trying to improve a tube theremin I built last year to get more linear response.

- putting a webcam in the eye of a HAL9000 replica finished a while ago so it can stream fisheye video ;)

- part of a team which put a 4m high black monolith in the pedestrian area of my home town :-D

- working on a hardware/software solution so my iTunes can display the current track on the cheap LED display i got off eBay

- organizing a visit from Tesla Coil Orchestra to play on their tesla coils

...and all that wile running a museum of old computers.

I think I may be overstretching myself a bit, but it feels good.
</pre>
</blockquote>
</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'><a href="http://mcl.jogger.pl">Marcin</a></div>
<div class='content'>
<p>Słuszna uwaga - zmienię może :)</p></div>
</div>
<div class='comment'>
<div class='author'><a href="http://blog.fluxid.pl">fluxid</a></div>
<div class='content'>
<p>&gt;monoscpace<br />
&gt;długie wiersze<br />
&gt;bez zawijania wierszy<br />
&gt;brak paska przewijania<br />
<br />
does not compute</p></div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/11/26/whug-8-beyond-hadoop/">WHUG 8. Beyond Hadoop - checking other options</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/30/hadoop-ha/">Hadoop HA setup</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/18/raspberry-pi/">raspberry-pi</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/18/hadoop-for-enterprises/">Hadoop for Enterprises</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/02/soapui-ext-libs-and-its-weirdness/">SoapUI ext libs and its weirdness</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/zygm0nt">@zygm0nt</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'zygm0nt',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("zygm0nt", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/zygm0nt" class="twitter-follow-button" data-show-count="false">Follow @zygm0nt</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Marcin Cylke -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'marcinbloguje';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
